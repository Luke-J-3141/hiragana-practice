<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Japanese Practice App</title>
<link rel="stylesheet" href="./style.css">
</head>
<body>
<div class="container">
<h1>Japanese Practice</h1>

<div class="dataset-selector">
    <button class="dataset-btn active" onclick="setDataset('hiragana')">ã²ã‚‰ãŒãª</button>
    <button class="dataset-btn" onclick="setDataset('katakana')">ã‚«ã‚¿ã‚«ãƒŠ</button>
    <button class="dataset-btn" onclick="setDataset('kanji')">æ¼¢å­—</button>
</div>

<div class="mode-selector">
    <button class="mode-btn active" onclick="setMode('sound')">ğŸ”Š Character Sound</button>
    <button class="mode-btn" onclick="setMode('drawing')">âœï¸ Character Drawing</button>
    <button class="mode-btn" onclick="setMode('wordSound')">ğŸ—£ï¸ Word Pronunciation</button>
    <button class="mode-btn" onclick="setMode('wordTranslation')">ğŸ”¤ Word Translation</button>
</div>

<div class="controls-row">
    <div class="toggle-container">
        <span>Auto-play sound:</span>
        <div class="toggle active" id="autoPlayToggle" onclick="toggleAutoPlay()"></div>
    </div>
    
    <div class="score">
        Score: <span id="score">0</span> / <span id="total">0</span> 
        (<span id="percentage">0</span>%)
    </div>
</div>

<div class="practice-area">
    <!-- Sound Practice Mode -->
    <div id="soundMode">
        <div class="hiragana-display" id="hiraganaChar">ã‚</div>
        <button class="audio-btn" onclick="playSound()">ğŸ”Š Play Sound</button>
        <div class="input-area">
            <input type="text" class="text-input" id="romajiInput" placeholder="Type romaji..." maxlength="5">
        </div>
        <button class="submit-btn" onclick="checkRomaji()">Check Answer</button>
    </div>

    <!-- Drawing Practice Mode -->
    <div id="drawingMode" class="hidden">
        <div class="romaji-display" id="drawRomajiChar">a</div>
        <p>Draw the character:</p>
        <div id="hintDisplay" class="hint-display hidden"></div>
        <div class="canvas-container">
            <canvas id="drawingCanvas" width="300" height="300"></canvas>
        </div>
        <div class="canvas-controls">
            <button class="control-btn" onclick="clearCanvas()">Clear</button>
            <button class="hint-btn" onclick="toggleHint()">ğŸ’¡ Show Hint</button>
            <button class="submit-btn" onclick="checkDrawing()">Check Drawing</button>
        </div>
    </div>

    <!-- Word Sound Practice Mode -->
    <div id="wordSoundMode" class="hidden">
        <div class="difficulty-selector">
            <button class="difficulty-btn active" onclick="setWordDifficulty('easy')">Easy</button>
            <button class="difficulty-btn" onclick="setWordDifficulty('normal')">Normal</button>
            <button class="difficulty-btn" onclick="setWordDifficulty('hard')">Hard</button>
        </div>
        <div class="word-display" id="wordDisplay">ã“ã‚“ã«ã¡ã¯</div>
        <div class="word-info">
            <div>English: <span id="wordMeaning">hello</span></div>
        </div>
        <button class="audio-btn" onclick="playWordSound()">ğŸ”Š Play Word</button>
        <div class="input-area">
            <input type="text" class="text-input" id="wordRomajiInput" placeholder="Type pronunciation..." maxlength="25">
        </div>
        <button class="submit-btn" onclick="checkWordRomaji()">Check Answer</button>
    </div>

    <!-- Word Translation Practice Mode -->
    <div id="wordTranslationMode" class="hidden">
        <div class="difficulty-selector">
            <button class="difficulty-btn active" onclick="setTranslationDifficulty('easy')">Easy</button>
            <button class="difficulty-btn" onclick="setTranslationDifficulty('normal')">Normal</button>
            <button class="difficulty-btn" onclick="setTranslationDifficulty('hard')">Hard</button>
        </div>
        <div class="word-display" id="translationWordDisplay">ã“ã‚“ã«ã¡ã¯</div>
        <div class="word-info">
            <div>Pronunciation: <span id="wordPronunciation">konnichiwa</span></div>
        </div>
        <button class="audio-btn" onclick="playTranslationWordSound()">ğŸ”Š Play Word</button>
        <div class="input-area">
            <input type="text" class="text-input" id="translationInput" placeholder="Type English meaning..." maxlength="50">
        </div>
        <button class="submit-btn" onclick="checkTranslation()">Check Answer</button>
    </div>

    <div id="feedback" class="feedback hidden"></div>
    
    <button class="control-btn" onclick="nextCharacter()" style="margin-top: 1rem;">Next â†’</button>
</div>
</div>

<script src="data.js"></script>
<script>
    let characterData = hiraganaData; // Default dataset
    let wordData = hiraganaWordData; // Default word dataset
</script>
<script src="sound-mode.js"></script>
<script src="drawing-mode.js"></script>
<script src="word-sound-mode.js"></script>
<script src="word-translation-mode.js"></script>
<script src="app.js"></script>
</document_content>